<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Read Tree Metadata in Binary Format — read_binary_tree_metadata • TreeNode</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Read Tree Metadata in Binary Format — read_binary_tree_metadata" />
<meta property="og:description" content="This function reads the metadata from a file containing trees in binary format." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">TreeNode</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Read Tree Metadata in Binary Format</h1>
    
    <div class="hidden name"><code>read_binary_tree_metadata.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function reads the metadata from a file containing trees in binary format.</p>
    </div>

    <pre class="usage"><span class='fu'>read_binary_tree_metadata</span>(<span class='no'>file</span>, <span class='kw'>invalid_trailer</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"scan"</span>, <span class='st'>"fail"</span>, <span class='st'>"ignore"</span>))</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>file</th>
      <td><p>A file name.</p></td>
    </tr>
    <tr>
      <th>invalid_trailer</th>
      <td><p>If this is set to <code>"scan"</code> (the default), if the tree file has an invalid trailer, the
function will print a warning and then read the whole file, attempting to parse as many trees as possible and
storing the addresses of those trees. If this is set to <code>"fail"</code>, an error will be generated if the tree
file has an invalid trailer. If this is set to <code>"ignore"</code> and the tree file has an invalid trailer, a
warning will be printed and the returned object will be missing the <code>TreeAddresses</code> element.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An object of class <code>"BinaryTreeMetadata"</code> with the following components:</p>
<dt><code>GlobalNames</code></dt><dd><p>A logical value indicating whether the tree file contains a list of names in the
                                  header.</p></dd>
        <dt><code>Names</code></dt><dd><p>Only present if <code>GlobalNames</code> is <code>TRUE</code>. A vector of mode character containing
                            the names specified in the file header.</p></dd>
        <dt><code>GlobalAttributes</code></dt><dd><p>A logical value indicating whether the tree file contains a list of attributes
                                       in the header.</p></dd>
        <dt><code>Attributes</code></dt><dd><p>Only present if <code>GlobalAttributes</code> is <code>TRUE</code>. A list of attributes. Each
                                 attribute is itself a list of two elements: <code>AttributeName</code> is a character
                                 object describing the attribute's name (e.g. "Length"), and <code>IsNumeric</code> describes
                                 whether the attribute represents a numeric value (e.g. a branch's length) or not.</p></dd>
        <dt><code>TreeAddresses</code></dt><dd><p>A vector of mode integer containing the addresses (i.e. byte offsets from the start
                                    of the file) of the trees. If <code>invalid_trailer</code> is <code>"ignore"</code> and the
                                    file has an invalid trailer, this element will be missing.</p></dd>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function reads the metadata information from the header and trailer of a file containing trees in binary
         format. This information consists in the addresses of the trees (i.e. byte offsets at which the data stream
         describing each tree starts) and in any names or attributes that are stored in the tree header.</p>
<p>If there are such names or attributes in the header, it <em>usually</em> means that every tree in the file should
         have the same names and attributes. However, this is not required by the file format; some (or all) of the trees
         in the file may have additional/missing taxa, or additional/missing attributes.</p>
<p>If the file's trailer is invalid (e.g. because the file is incomplete), the default behaviour is to read the whole
         file, attempting to parse as many trees as possible. The trees themselves are discarded, while their addresses
         are stored. This is desirable when the concern preventing all the trees in the file from being read at once (i.e.,
         the use of <code><a href='read_binary_trees.html'>read_binary_trees</a></code>) is memory.
         If this is not the case, changing the value of <code>invalid_trailer</code> provides alternative ways to deal with this
         situation, either by generating an error, or by returning a valid object which is however missing the <code>TreeAddresses</code>
         attribute.</p>
<p>Due to limitations with R's integral types, this function may have issues with files larger than 2GB.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p><a href='https://github.com/arklumpus/TreeNode/blob/master/BinaryTree.md'>https://github.com/arklumpus/TreeNode/blob/master/BinaryTree.md</a></p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='read_binary_trees.html'>read_binary_trees</a></code>, <code><a href='read_one_binary_tree.html'>read_one_binary_tree</a></code>, <code><a href='https://rdrr.io/pkg/ape/man/ape-package.html'>ape</a></code>, <code><a href='https://rdrr.io/pkg/ape/man/read.tree.html'>read.tree</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Tree file (replace with your own)</span>
<span class='no'>treeFile</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span>(<span class='st'>"extdata"</span>, <span class='st'>"manyTrees.tbi"</span>, <span class='kw'>package</span><span class='kw'>=</span><span class='st'>"TreeNode"</span>)

<span class='co'># Read the binary tree metadata</span>
<span class='no'>meta</span> <span class='kw'>&lt;-</span> <span class='fu'>read_binary_tree_metadata</span>(<span class='no'>treeFile</span>)

<span class='co'>#Print a list of the names defined in the file's header</span>
<span class='no'>meta</span>$<span class='no'>Names</span></div><div class='output co'>#&gt;  [1] "Taxon1"  "Taxon2"  "Taxon3"  "Taxon5"  "Taxon6"  "Taxon4"  "Taxon8" 
#&gt;  [8] "Taxon7"  "Taxon11" "Taxon15" "Taxon18" "Taxon20" "Taxon19" "Taxon16"
#&gt; [15] "Taxon17" "Taxon12" "Taxon13" "Taxon14" "Taxon9"  "Taxon10"</div><div class='input'>
<span class='co'>#Print a list of the attributes defined in the file's header</span>
<span class='no'>meta</span>$<span class='no'>Attributes</span></div><div class='output co'>#&gt; $AttributeName
#&gt; [1] "Length"   "Name"     "Support"  "TreeName"
#&gt; 
#&gt; $IsNumeric
#&gt; [1]  TRUE FALSE  TRUE FALSE
#&gt; </div><div class='input'>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Giorgio Bianchini.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


